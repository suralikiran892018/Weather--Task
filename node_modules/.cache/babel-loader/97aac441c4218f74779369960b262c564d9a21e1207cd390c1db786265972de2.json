{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Kiran Kumar/Desktop/task/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Kiran Kumar/Desktop/task/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Kiran Kumar/Desktop/task/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import searchIcon from'./search.svg';import linkIcon from'./external-link.svg';import WeatherData from'./WeatherData';import FarmerWeather from'./FarmerWeather';import EventPlannerWeather from'./EventPlannerWeather';import TravelerWeather from'./TravelerWeather';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(){var inputValue=useRef();var _useState=useState(\"kakinada\"),_useState2=_slicedToArray(_useState,2),cityName=_useState2[0],setCityName=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),lang=_useState6[0],setLang=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),myData=_useState8[0],setMyData=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),cityDetails=_useState10[0],setCityDetails=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),dataWeather=_useState12[0],setDataWeather=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),windData=_useState14[0],setWindData=_useState14[1];var _useState15=useState('general'),_useState16=_slicedToArray(_useState15,2),userGroup=_useState16[0],setUserGroup=_useState16[1];var APP_KEY=\"540a03e69a8cd89d141951d056206b1d\";useEffect(function(){(function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.openweathermap.org/data/2.5/forecast?q=\".concat(cityName,\"&APPID=\").concat(APP_KEY,\"&units=metric&lang=\").concat(lang?'en':'hi'));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;if(response.ok){setCityDetails(data.city);setMyData(data.list[0].main);setDataWeather(data.list[0].weather[0]);setWindData(data.list[0].wind);setError(true);}else{setError(false);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};})()();},[cityName,lang]);var onkeydownHandler=function onkeydownHandler(e){if(e.key==='Enter'){e.preventDefault();setCityName(inputValue.current.value);}};var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();setCityName(inputValue.current.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cityName\",children:[error?/*#__PURE__*/_jsxs(\"p\",{children:[cityDetails.name,\", \",cityDetails.country,/*#__PURE__*/_jsx(\"a\",{href:\"https://en.wikipedia.org/wiki/\".concat(cityDetails.name),target:\"_ \",children:/*#__PURE__*/_jsx(\"img\",{src:linkIcon,alt:\"link\"})})]}):/*#__PURE__*/_jsx(\"p\",{className:\"invalid\",children:lang?'Invalid City Name':'अमान्य शहर का नाम'}),/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:inputValue,onKeyDown:onkeydownHandler,placeholder:\"City Name\"}),/*#__PURE__*/_jsx(\"img\",{style:{cursor:'pointer'},onClick:onSubmitHandler,src:searchIcon,alt:\"searchIcon\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"retro-button retro-button:hover\",onClick:function onClick(){return setUserGroup('general');},children:\"General\"}),/*#__PURE__*/_jsx(\"button\",{className:\"retro-button retro-button:hover\",onClick:function onClick(){return setUserGroup('farmer');},children:\"Farmer\"}),/*#__PURE__*/_jsx(\"button\",{className:\"retro-button retro-button:hover\",onClick:function onClick(){return setUserGroup('eventPlanner');},children:\"Event Planner\"}),/*#__PURE__*/_jsx(\"button\",{className:\"retro-button retro-button:hover\",onClick:function onClick(){return setUserGroup('traveler');},children:\"Traveler\"})]})]}),userGroup==='general'&&/*#__PURE__*/_jsx(WeatherData,{weatherData:myData,weather:dataWeather,city:cityDetails,lang:lang,windData:windData}),userGroup==='farmer'&&/*#__PURE__*/_jsx(FarmerWeather,{weatherData:myData,weather:dataWeather,city:cityDetails,windData:windData}),userGroup==='eventPlanner'&&/*#__PURE__*/_jsx(EventPlannerWeather,{weatherData:myData,weather:dataWeather,city:cityDetails,windData:windData}),userGroup==='traveler'&&/*#__PURE__*/_jsx(TravelerWeather,{weatherData:myData,weather:dataWeather,city:cityDetails,windData:windData})]});};export default Main;","map":{"version":3,"names":["React","useEffect","useRef","useState","searchIcon","linkIcon","WeatherData","FarmerWeather","EventPlannerWeather","TravelerWeather","Main","inputValue","cityName","setCityName","error","setError","lang","setLang","myData","setMyData","cityDetails","setCityDetails","dataWeather","setDataWeather","windData","setWindData","userGroup","setUserGroup","APP_KEY","_","fetch","response","json","data","ok","city","list","main","weather","wind","onkeydownHandler","e","key","preventDefault","current","value","onSubmitHandler","name","country","cursor"],"sources":["C:/Users/Kiran Kumar/Desktop/task/src/components/Main.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport searchIcon from './search.svg';\r\nimport linkIcon from './external-link.svg';\r\nimport WeatherData from './WeatherData';\r\nimport FarmerWeather from './FarmerWeather';\r\nimport EventPlannerWeather from './EventPlannerWeather';\r\nimport TravelerWeather from './TravelerWeather';\r\n\r\nconst Main = () => {\r\n  const inputValue = useRef();\r\n  const [cityName, setCityName] = useState(\"kakinada\");\r\n  const [error, setError] = useState(true);\r\n  const [lang, setLang] = useState(true);\r\n  const [myData, setMyData] = useState([]);\r\n  const [cityDetails, setCityDetails] = useState([]);\r\n  const [dataWeather, setDataWeather] = useState([]);\r\n  const [windData, setWindData] = useState([]);\r\n  const [userGroup, setUserGroup] = useState('general');\r\n  const APP_KEY= \"540a03e69a8cd89d141951d056206b1d\";\r\n\r\n  useEffect(() =>{\r\n    (async _ => {\r\n          const response = await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${cityName}&APPID=${APP_KEY}&units=metric&lang=${lang ? 'en' : 'hi'}`);\r\n          const data = await response.json();\r\n          if(response.ok){\r\n            setCityDetails(data.city);\r\n            setMyData(data.list[0].main);\r\n            setDataWeather(data.list[0].weather[0]);\r\n            setWindData(data.list[0].wind);\r\n            setError(true);\r\n          }else{\r\n            setError(false);\r\n          }\r\n    })();\r\n  }, [cityName, lang]);\r\n\r\n  const onkeydownHandler = (e) => {\r\n    if(e.key === 'Enter'){\r\n      e.preventDefault();\r\n      setCityName(inputValue.current.value);\r\n    }\r\n  };\r\n\r\n  const onSubmitHandler = (e) => {\r\n    e.preventDefault();\r\n    setCityName(inputValue.current.value);\r\n  };\r\n\r\n  return (\r\n    <div className='box'>\r\n      <div className='cityName'>\r\n        {error ? (\r\n          <p>{cityDetails.name}, {cityDetails.country}\r\n            <a href={`https://en.wikipedia.org/wiki/${cityDetails.name}`} target=\"_ \">\r\n              <img src={linkIcon} alt='link'/>\r\n            </a>\r\n          </p>\r\n        ) : (\r\n          <p className='invalid'>{lang ? 'Invalid City Name' : 'अमान्य शहर का नाम'}</p>\r\n        )}\r\n        <div className='search'>\r\n          <input type='text' ref={inputValue} onKeyDown={onkeydownHandler} placeholder='City Name'/>\r\n          <img style={{cursor:'pointer'}} onClick={onSubmitHandler} src={searchIcon} alt='searchIcon'/>\r\n        </div>\r\n        <div>\r\n          <button className='retro-button retro-button:hover' onClick={() => setUserGroup('general')}>General</button>\r\n          <button className='retro-button retro-button:hover' onClick={() => setUserGroup('farmer')}>Farmer</button>\r\n          <button className='retro-button retro-button:hover' onClick={() => setUserGroup('eventPlanner')}>Event Planner</button>\r\n          <button className='retro-button retro-button:hover' onClick={() => setUserGroup('traveler')}>Traveler</button>\r\n        </div>\r\n      </div>\r\n      \r\n      {userGroup === 'general' && (\r\n        <WeatherData weatherData={myData} weather={dataWeather} city={cityDetails} lang={lang} windData={windData} />\r\n      )}\r\n      {userGroup === 'farmer' && (\r\n        <FarmerWeather weatherData={myData} weather={dataWeather} city={cityDetails} windData={windData} />\r\n      )}\r\n      {userGroup === 'eventPlanner' && (\r\n        <EventPlannerWeather weatherData={myData} weather={dataWeather} city={cityDetails} windData={windData} />\r\n      )}\r\n      {userGroup === 'traveler' && (\r\n        <TravelerWeather weatherData={myData} weather={dataWeather} city={cityDetails} windData={windData} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}